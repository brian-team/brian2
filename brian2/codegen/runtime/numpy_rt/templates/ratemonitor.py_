# { USES_VARIABLES _rate, _t, _spikespace, _num_source_neurons, t, dt }
_spikes = _spikespace[:_spikespace[-1]]
_new_len = len(_t_object) + 1
_t_object.resize(_new_len)
_rate_object.resize(_new_len)
# Note that _t refers directly to the underlying array which might have changed
_t_object[-1] = t
_rate_object[-1] = 1.0 * len(_spikes) / dt / _num_source_neurons
